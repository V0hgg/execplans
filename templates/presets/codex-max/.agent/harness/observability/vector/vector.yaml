data_dir: /tmp/vector

api:
  enabled: true
  address: 0.0.0.0:8686

sources:
  demo_logs:
    type: demo_logs
    format: json
    interval: 1
  internal_metrics:
    type: internal_metrics

sinks:
  victoria_logs:
    type: http
    inputs:
      - demo_logs
    uri: http://victoria-logs:9428/insert/jsonline?_stream_fields=source&_msg_field=message
    method: post
    encoding:
      codec: json
    framing:
      method: newline_delimited

  victoria_metrics:
    type: prometheus_remote_write
    inputs:
      - internal_metrics
    endpoint: http://victoria-metrics:8428/api/v1/write
